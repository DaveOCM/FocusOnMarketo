<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adobe Marketo Engage - Study Guide</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --primary: #1473E6;
            --primary-dark: #0D66D0;
            --success: #2D9D78;
            --danger: #E34850;
            --warning: #F29423;
            --bg: #FFFFFF;
            --bg-secondary: #F5F5F5;
            --text: #2C2C2C;
            --text-secondary: #6E6E6E;
            --border: #E1E1E1;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-secondary);
            overflow-x: hidden;
        }

        /* HEADER */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 1.5rem 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .header h1 { font-size: 1.6rem; margin-bottom: 0.2rem; text-align: center; }
        .header p { opacity: 0.85; font-size: 0.9rem; text-align: center; }

        /* TABS */
        .tabs {
            background: white;
            box-shadow: 0 2px 6px rgba(0,0,0,0.08);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            position: sticky;
            top: 68px;
            z-index: 999;
        }
        .tab-list {
            display: flex;
            justify-content: center;
            list-style: none;
            margin: 0;
            padding: 0;
            min-width: max-content;
        }
        .tab button {
            display: block;
            width: 100%;
            padding: 0.9rem 1.1rem;
            border: none;
            background: white;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.25s;
            border-bottom: 3px solid transparent;
            font-weight: 500;
            font-size: 0.82rem;
            white-space: nowrap;
            text-align: center;
        }
        .tab button:hover { background: #f0f7ff; color: var(--primary); }
        .tab button.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
            background: #eef5ff;
            font-weight: 600;
        }

        /* Tab badge */
        .tab-badge {
            display: none;
            font-size: 0.6rem;
            background: var(--success);
            color: white;
            border-radius: 8px;
            padding: 1px 5px;
            margin-left: 4px;
            font-weight: 700;
            vertical-align: middle;
        }
        .tab-badge.show { display: inline-block; }

        /* CONTENT PANES */
        .tab-content { display: none; width: 100%; height: calc(100vh - 130px); }
        .tab-content.active { display: block; }
        .tab-content iframe { width: 100%; height: 100%; border: none; }

        /* HOME PAGE */
        .home-content {
            max-width: 1100px;
            margin: 0 auto;
            padding: 2rem 2rem 3rem;
            overflow-y: auto;
            height: calc(100vh - 130px);
        }
        .home-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .home-header h2 {
            color: var(--primary);
            font-size: 1.7rem;
            margin-bottom: 0.4rem;
        }
        .home-header p { color: var(--text-secondary); font-size: 0.95rem; }

        /* STATS ROW */
        .stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 2.5rem;
        }
        .stat-card {
            background: white;
            padding: 1.2rem 0.8rem;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.07);
            border-top: 3px solid var(--primary);
        }
        .stat-card .number { font-size: 2rem; font-weight: 700; color: var(--primary); }
        .stat-card .label { color: var(--text-secondary); font-size: 0.78rem; margin-top: 0.2rem; text-transform: uppercase; letter-spacing: 0.5px; }

        /* GLOBAL PROGRESS BAR */
        .global-progress-wrap {
            margin-top: 0.7rem;
        }
        .global-progress-steps {
            display: flex;
            gap: 3px;
        }
        .global-progress-step {
            flex: 1;
            height: 7px;
            border-radius: 3px;
            background: var(--bg-secondary);
            transition: background 0.4s ease;
        }
        .global-progress-step.done { background: var(--success); }
        .global-progress-step.partial { background: var(--warning); }
        .global-progress-labels {
            display: flex;
            margin-top: 0.35rem;
        }
        .global-progress-labels span {
            flex: 1;
            font-size: 0.58rem;
            color: var(--text-secondary);
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        /* SECTION LABEL */
        .section-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-secondary);
            font-weight: 600;
            margin-bottom: 0.7rem;
            margin-top: 2rem;
            padding-bottom: 0.4rem;
            border-bottom: 1px solid var(--border);
        }

        /* CARDS GRID */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
            gap: 1rem;
        }
        .card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.07);
            cursor: pointer;
            transition: all 0.25s;
            overflow: hidden;
            border: 1px solid var(--border);
        }
        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.12);
            border-color: var(--primary);
        }
        .card-header {
            padding: 0.6rem 1rem;
            font-size: 0.72rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .card-header.study { background: var(--primary); }
        .card-header.mock  { background: linear-gradient(135deg, #5B2D8E 0%, #7B4BAF 100%); }
        .card-header.hard  { background: linear-gradient(135deg, #C53030 0%, #E53E3E 100%); }

        /* Card badge */
        .card-badge {
            display: none;
            background: rgba(255,255,255,0.25);
            color: white;
            font-size: 0.68rem;
            font-weight: 700;
            padding: 2px 7px;
            border-radius: 8px;
        }
        .card-badge.show { display: inline-block; }

        .card-body { padding: 1rem; }
        .card-body h3 { font-size: 1rem; color: var(--text); margin-bottom: 0.3rem; }
        .card-body .card-meta { font-size: 0.78rem; color: var(--text-secondary); margin-bottom: 0.6rem; }

        /* Card mini progress ‚Äî 2 dots: content + quiz */
        .card-progress {
            display: flex;
            gap: 6px;
            align-items: center;
            margin-top: 0.75rem;
        }
        .card-progress-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--border);
            transition: background 0.3s ease;
        }
        .card-progress-dot.done { background: var(--success); }
        .card-progress-dot-label {
            font-size: 0.68rem;
            color: var(--text-secondary);
            margin-left: 2px;
        }

        .tag {
            display: inline-block;
            font-size: 0.7rem;
            font-weight: 600;
            padding: 0.2rem 0.6rem;
            border-radius: 20px;
            margin-right: 0.3rem;
            margin-bottom: 0.3rem;
        }
        .tag-green  { background: #E8F5E9; color: var(--success); }
        .tag-purple { background: #F3E5F5; color: #7B1FA2; }
        .tag-red    { background: #FFEBEE; color: var(--danger); }
        .tag-blue   { background: #E3F2FD; color: var(--primary); }

        .card-arrow {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 0 1rem 0.8rem;
            color: var(--primary);
            font-size: 0.82rem;
            font-weight: 600;
        }

        /* EXAM INFO BOX */
        .info-box {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.07);
            padding: 1.5rem;
            margin-bottom: 2rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        .info-box h4 { color: var(--primary); font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 0.6rem; }
        .info-box ul { list-style: none; }
        .info-box li { font-size: 0.82rem; color: var(--text-secondary); padding: 0.25rem 0; }
        .info-box li strong { color: var(--text); }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .header { padding: 1rem; }
            .header h1 { font-size: 1.2rem; }
            .tabs { top: 56px; }
            .tab button { padding: 0.7rem 0.6rem; font-size: 0.75rem; }
            .tab-content, .home-content { height: calc(100vh - 115px); }
            .home-content { padding: 1rem; }
            .stats { grid-template-columns: repeat(2, 1fr); }
            .cards-grid { grid-template-columns: 1fr; }
            .info-box { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<!-- HEADER -->
<div class="header">
    <h1>üéì Adobe Marketo Engage Digital Marketer Professional</h1>
    <p>Complete Certification Study Guide ¬∑ Exam AD0-E564</p>
</div>

<!-- TABS -->
<div class="tabs">
    <ul class="tab-list">
        <li class="tab"><button class="tab-button active" onclick="openTab(event, 'home')">üè† Home</button></li>
        <li class="tab"><button class="tab-button" onclick="openTab(event, 'section1')">üìò Sec 1 <span style="opacity:0.6">(20%)</span><span class="tab-badge" id="tabBadge-section1">‚úì</span></button></li>
        <li class="tab"><button class="tab-button" onclick="openTab(event, 'section2')">üìò Sec 2 <span style="opacity:0.6">(20%)</span><span class="tab-badge" id="tabBadge-section2">‚úì</span></button></li>
        <li class="tab"><button class="tab-button" onclick="openTab(event, 'section3')">üìò Sec 3 <span style="opacity:0.6">(30%)</span><span class="tab-badge" id="tabBadge-section3">‚úì</span></button></li>
        <li class="tab"><button class="tab-button" onclick="openTab(event, 'section4')">üìò Sec 4 <span style="opacity:0.6">(15%)</span><span class="tab-badge" id="tabBadge-section4">‚úì</span></button></li>
        <li class="tab"><button class="tab-button" onclick="openTab(event, 'section5')">üìò Sec 5 <span style="opacity:0.6">(15%)</span><span class="tab-badge" id="tabBadge-section5">‚úì</span></button></li>
        <li class="tab"><button class="tab-button" onclick="openTab(event, 'mockA')">üìù Mock A</button></li>
        <li class="tab"><button class="tab-button" onclick="openTab(event, 'mockB')">üìù Mock B</button></li>
        <li class="tab"><button class="tab-button" onclick="openTab(event, 'mockC')">üìù Mock C</button></li>
        <li class="tab"><button class="tab-button" onclick="openTab(event, 'mockD')">üî• Mock D</button></li>
    </ul>
</div>

<!-- HOME -->
<div id="home" class="tab-content active">
    <div class="home-content">
        <div class="home-header">
            <h2>üìñ Your Study Dashboard</h2>
            <p>5 study sections ¬∑ 4 mock exams ¬∑ 400 practice questions total</p>
        </div>

        <!-- EXAM INFO -->
        <div class="info-box">
            <div>
                <h4>üìã Exam Details</h4>
                <ul>
                    <li><strong>Exam Code:</strong> AD0-E564</li>
                    <li><strong>Level:</strong> Professional (0‚Äì12 months)</li>
                    <li><strong>Duration:</strong> 140 minutes</li>
                    <li><strong>Questions:</strong> 70</li>
                    <li><strong>Passing:</strong> 49/70 (70%)</li>
                    <li><strong>Cost:</strong> $125 USD</li>
                    <li><strong>Delivery:</strong> Online proctored</li>
                </ul>
            </div>
            <div>
                <h4>üéØ Study Tips</h4>
                <ul>
                    <li>Complete all 5 sections before taking mock exams</li>
                    <li>Aim for 70%+ on each section quiz first</li>
                    <li>Read every explanation ‚Äî even on correct answers</li>
                    <li>Mock D is intentionally harder ‚Äî don't worry if score is lower</li>
                    <li>Focus weak areas by re-reading relevant sections</li>
                    <li>3‚Äì6 months hands-on Marketo experience helps a lot</li>
                </ul>
            </div>
        </div>

        <!-- STATS -->
        <div class="stats">
            <div class="stat-card">
                <div class="number" id="globalPct">0%</div>
                <div class="label">Overall Progress</div>
                <div class="global-progress-wrap">
                    <div class="global-progress-steps">
                        <div class="global-progress-step" id="step-section1-scroll"></div>
                        <div class="global-progress-step" id="step-section1-quiz"></div>
                        <div class="global-progress-step" id="step-section2-scroll"></div>
                        <div class="global-progress-step" id="step-section2-quiz"></div>
                        <div class="global-progress-step" id="step-section3-scroll"></div>
                        <div class="global-progress-step" id="step-section3-quiz"></div>
                        <div class="global-progress-step" id="step-section4-scroll"></div>
                        <div class="global-progress-step" id="step-section4-quiz"></div>
                        <div class="global-progress-step" id="step-section5-scroll"></div>
                        <div class="global-progress-step" id="step-section5-quiz"></div>
                    </div>
                    <div class="global-progress-labels">
                        <span>Sec 1</span>
                        <span>Sec 2</span>
                        <span>Sec 3</span>
                        <span>Sec 4</span>
                        <span>Sec 5</span>
                    </div>
                </div>
            </div>
            <div class="stat-card">
                <div class="number">400</div>
                <div class="label">Practice Questions</div>
            </div>
            <div class="stat-card">
                <div class="number">4</div>
                <div class="label">Mock Exams</div>
            </div>
            <div class="stat-card">
                <div class="number">70%</div>
                <div class="label">Passing Score</div>
            </div>
        </div>

        <!-- STUDY SECTIONS -->
        <div class="section-label">üìò Study Sections ‚Äî Learn the material</div>
        <div class="cards-grid">
            <div class="card" onclick="openTab(null, 'section1')">
                <div class="card-header study">Section 1<span class="card-badge" id="cardBadge-section1">‚úì Passed</span></div>
                <div class="card-body">
                    <h3>Building Programs</h3>
                    <div class="card-meta">20% of exam ¬∑ 25 questions</div>
                    <span class="tag tag-blue">Program Types</span>
                    <span class="tag tag-blue">Tokens</span>
                    <span class="tag tag-blue">Channels</span>
                    <div class="card-progress">
                        <div class="card-progress-dot" id="cardDot-section1-scroll"></div>
                        <span class="card-progress-dot-label">Read</span>
                        <div class="card-progress-dot" id="cardDot-section1-quiz"></div>
                        <span class="card-progress-dot-label">Quiz</span>
                    </div>
                </div>
                <div class="card-arrow">Open ‚Üí</div>
            </div>
            <div class="card" onclick="openTab(null, 'section2')">
                <div class="card-header study">Section 2<span class="card-badge" id="cardBadge-section2">‚úì Passed</span></div>
                <div class="card-body">
                    <h3>Targeting Audiences</h3>
                    <div class="card-meta">20% of exam ¬∑ 23 questions</div>
                    <span class="tag tag-blue">Smart Lists</span>
                    <span class="tag tag-blue">Segmentations</span>
                    <span class="tag tag-blue">Imports</span>
                    <div class="card-progress">
                        <div class="card-progress-dot" id="cardDot-section2-scroll"></div>
                        <span class="card-progress-dot-label">Read</span>
                        <div class="card-progress-dot" id="cardDot-section2-quiz"></div>
                        <span class="card-progress-dot-label">Quiz</span>
                    </div>
                </div>
                <div class="card-arrow">Open ‚Üí</div>
            </div>
            <div class="card" onclick="openTab(null, 'section3')">
                <div class="card-header study">Section 3<span class="card-badge" id="cardBadge-section3">‚úì Passed</span></div>
                <div class="card-body">
                    <h3>Creating Assets</h3>
                    <div class="card-meta">30% of exam ¬∑ 32 questions</div>
                    <span class="tag tag-blue">Forms</span>
                    <span class="tag tag-blue">Emails</span>
                    <span class="tag tag-blue">Dynamic Content</span>
                    <div class="card-progress">
                        <div class="card-progress-dot" id="cardDot-section3-scroll"></div>
                        <span class="card-progress-dot-label">Read</span>
                        <div class="card-progress-dot" id="cardDot-section3-quiz"></div>
                        <span class="card-progress-dot-label">Quiz</span>
                    </div>
                </div>
                <div class="card-arrow">Open ‚Üí</div>
            </div>
            <div class="card" onclick="openTab(null, 'section4')">
                <div class="card-header study">Section 4<span class="card-badge" id="cardBadge-section4">‚úì Passed</span></div>
                <div class="card-body">
                    <h3>Automating Programs</h3>
                    <div class="card-meta">15% of exam ¬∑ 20 questions</div>
                    <span class="tag tag-blue">Smart Campaigns</span>
                    <span class="tag tag-blue">Flow Steps</span>
                    <span class="tag tag-blue">Wait Steps</span>
                    <div class="card-progress">
                        <div class="card-progress-dot" id="cardDot-section4-scroll"></div>
                        <span class="card-progress-dot-label">Read</span>
                        <div class="card-progress-dot" id="cardDot-section4-quiz"></div>
                        <span class="card-progress-dot-label">Quiz</span>
                    </div>
                </div>
                <div class="card-arrow">Open ‚Üí</div>
            </div>
            <div class="card" onclick="openTab(null, 'section5')">
                <div class="card-header study">Section 5<span class="card-badge" id="cardBadge-section5">‚úì Passed</span></div>
                <div class="card-body">
                    <h3>Analyzing Reports</h3>
                    <div class="card-meta">15% of exam ¬∑ 20 questions</div>
                    <span class="tag tag-blue">Reports</span>
                    <span class="tag tag-blue">Metrics</span>
                    <span class="tag tag-blue">ROI</span>
                    <div class="card-progress">
                        <div class="card-progress-dot" id="cardDot-section5-scroll"></div>
                        <span class="card-progress-dot-label">Read</span>
                        <div class="card-progress-dot" id="cardDot-section5-quiz"></div>
                        <span class="card-progress-dot-label">Quiz</span>
                    </div>
                </div>
                <div class="card-arrow">Open ‚Üí</div>
            </div>
        </div>

        <!-- MOCK EXAMS -->
        <div class="section-label">üìù Mock Exams ‚Äî Test your knowledge</div>
        <div class="cards-grid">
            <div class="card" onclick="openTab(null, 'mockA')">
                <div class="card-header mock">Mock Exam</div>
                <div class="card-body">
                    <h3>Mock Exam A</h3>
                    <div class="card-meta">70 questions ¬∑ Full exam format</div>
                    <span class="tag tag-green">70 Questions</span>
                    <span class="tag tag-purple">Explanations</span>
                </div>
                <div class="card-arrow">Start Exam ‚Üí</div>
            </div>
            <div class="card" onclick="openTab(null, 'mockB')">
                <div class="card-header mock">Mock Exam</div>
                <div class="card-body">
                    <h3>Mock Exam B</h3>
                    <div class="card-meta">70 questions ¬∑ Full exam format</div>
                    <span class="tag tag-green">70 Questions</span>
                    <span class="tag tag-purple">Explanations</span>
                </div>
                <div class="card-arrow">Start Exam ‚Üí</div>
            </div>
            <div class="card" onclick="openTab(null, 'mockC')">
                <div class="card-header mock">Mock Exam</div>
                <div class="card-body">
                    <h3>Mock Exam C</h3>
                    <div class="card-meta">70 questions ¬∑ Full exam format</div>
                    <span class="tag tag-green">70 Questions</span>
                    <span class="tag tag-purple">Explanations</span>
                </div>
                <div class="card-arrow">Start Exam ‚Üí</div>
            </div>
            <div class="card" onclick="openTab(null, 'mockD')">
                <div class="card-header hard">Hard Mode</div>
                <div class="card-body">
                    <h3>Mock Exam D</h3>
                    <div class="card-meta">70 questions ¬∑ Edge cases & tricky scenarios</div>
                    <span class="tag tag-green">70 Questions</span>
                    <span class="tag tag-red">Hard Mode</span>
                </div>
                <div class="card-arrow">Start Exam ‚Üí</div>
            </div>
        </div>

    </div>
</div>

<!-- STUDY SECTION IFRAMES -->
<div id="section1" class="tab-content"><iframe src="section1.html"></iframe></div>
<div id="section2" class="tab-content"><iframe src="section2.html"></iframe></div>
<div id="section3" class="tab-content"><iframe src="section3.html"></iframe></div>
<div id="section4" class="tab-content"><iframe src="section4.html"></iframe></div>
<div id="section5" class="tab-content"><iframe src="section5.html"></iframe></div>

<!-- MOCK EXAM IFRAMES -->
<div id="mockA" class="tab-content"><iframe src="mock_exam_a.html"></iframe></div>
<div id="mockB" class="tab-content"><iframe src="mock_exam_b.html"></iframe></div>
<div id="mockC" class="tab-content"><iframe src="mock_exam_c.html"></iframe></div>
<div id="mockD" class="tab-content"><iframe src="mock_exam_d.html"></iframe></div>

<script>
// ‚îÄ‚îÄ‚îÄ TAB NAVIGATION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function openTab(evt, tabName) {
    Array.from(document.getElementsByClassName('tab-content')).forEach(function(tc) { tc.classList.remove('active'); });
    Array.from(document.getElementsByClassName('tab-button')).forEach(function(btn) { btn.classList.remove('active'); });
    document.getElementById(tabName).classList.add('active');

    if (evt && evt.currentTarget) {
        evt.currentTarget.classList.add('active');
    } else {
        document.querySelectorAll('.tab-button').forEach(function(btn) {
            if (btn.getAttribute('onclick') && btn.getAttribute('onclick').includes(tabName)) {
                btn.classList.add('active');
            }
        });
    }
    window.scrollTo(0, 0);
}

// ‚îÄ‚îÄ‚îÄ PROGRESS SYSTEM ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
var sections = ['section1','section2','section3','section4','section5'];

// Apply a single section's state to the UI
function applyState(key, scrolled, quizPassed) {
    // Global progress steps
    var stepScroll = document.getElementById('step-' + key + '-scroll');
    var stepQuiz  = document.getElementById('step-' + key + '-quiz');
    if (stepScroll) stepScroll.className = 'global-progress-step' + (scrolled ? ' done' : '');
    if (stepQuiz)  stepQuiz.className  = 'global-progress-step' + (quizPassed ? ' done' : '');

    // Card dots
    var dotScroll = document.getElementById('cardDot-' + key + '-scroll');
    var dotQuiz  = document.getElementById('cardDot-' + key + '-quiz');
    if (dotScroll) dotScroll.className = 'card-progress-dot' + (scrolled ? ' done' : '');
    if (dotQuiz)  dotQuiz.className  = 'card-progress-dot' + (quizPassed ? ' done' : '');

    // Card badge + tab badge ‚Äî only if quiz passed
    var cardBadge = document.getElementById('cardBadge-' + key);
    var tabBadge  = document.getElementById('tabBadge-' + key);
    if (cardBadge) cardBadge.className = 'card-badge' + (quizPassed ? ' show' : '');
    if (tabBadge)  tabBadge.className  = 'tab-badge'  + (quizPassed ? ' show' : '');

    // Recalculate global percentage
    updateGlobalPct();
}

function updateGlobalPct() {
    var done = 0;
    sections.forEach(function(key) {
        if (localStorage.getItem('marketo_' + key + '_scrolled') === 'true') done++;
        if (localStorage.getItem('marketo_' + key + '_quiz') === 'true') done++;
    });
    var pct = Math.round((done / 10) * 100);
    document.getElementById('globalPct').textContent = pct + '%';
}

// Listen for postMessage from iframes (real-time updates)
window.addEventListener('message', function(event) {
    if (!event.data || event.data.type !== 'sectionProgress') return;
    var key = event.data.key;
    if (sections.indexOf(key) === -1) return;
    applyState(key, event.data.scrolled, event.data.quizPassed);
});

// On load: read localStorage and restore full UI state
sections.forEach(function(key) {
    var scrolled   = localStorage.getItem('marketo_' + key + '_scrolled') === 'true';
    var quizPassed = localStorage.getItem('marketo_' + key + '_quiz') === 'true';
    applyState(key, scrolled, quizPassed);
});
</script>
</body>
</html>
